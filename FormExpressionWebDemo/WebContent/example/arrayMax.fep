function arrayMax(arr) {
  len = arr.length;
  if (arr.length == 0) throw exception("array is empty");
  max = arr[0];
  for (i = 1; i < arr.length; i+=1) {
    if (arr[i] > max) max = arr[i];
  }
  max;
}

try {
  arrayMax([4,3,1,42,7]);
}
catch (e) {
  "caught";
}